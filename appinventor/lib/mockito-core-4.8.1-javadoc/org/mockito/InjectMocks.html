<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>InjectMocks (Mockito 4.8.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InjectMocks (Mockito 4.8.1 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InjectMocks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.mockito</a></div>
<h2 title="Annotation Type InjectMocks" class="title">Annotation Type InjectMocks</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Documented</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#FIELD" title="class or interface in java.lang.annotation" class="externalLink">FIELD</a>)
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation" class="externalLink">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation" class="externalLink">RUNTIME</a>)
public @interface <span class="memberNameLabel">InjectMocks</span></pre>
<div class="block">Mark a field on which injection should be performed.

 <ul>
 <li>Allows shorthand mock and spy injection.</li>
 <li>Minimizes repetitive mock and spy injection.</li>
 </ul>
 <p>
 Mockito will try to inject mocks only either by constructor injection,
 property injection or setter injection in order and as described below.
 If any of the following strategy fail, then Mockito <strong>won't report failure</strong>;
 i.e. you will have to provide dependencies yourself.
 <ol>
     <li><strong>Constructor injection</strong>; the biggest constructor is chosen,
     then arguments are resolved with mocks declared in the test only. If the object is successfully created
     with the constructor, then <strong>Mockito won't try the other strategies</strong>. Mockito has decided to no
     corrupt an object if it has a parametered constructor.
     <p><u>Note:</u> If arguments can not be found, then null is passed.
     If non-mockable types are wanted, then constructor injection won't happen.
     In these cases, you will have to satisfy dependencies yourself.</p></li>

     <li><strong>Property setter injection</strong>; mocks will first be resolved by type (if a single type match
     injection will happen regardless of the name),
     then, if there is several property of the same type, by the match of the property name and the mock name.
     <p><u>Note 1:</u> If you have properties with the same type (or same erasure), it's better to name all &#064;Mock
     annotated fields with the matching properties, otherwise Mockito might get confused and injection won't happen.</p>
     <p><u>Note 2:</u> If &#064;InjectMocks instance wasn't initialized before and has a no-arg constructor,
     then it will be initialized with this constructor.</p></li>

     <li><strong>Field injection</strong>; mocks will first be resolved by type (if a single type match
     injection will happen regardless of the name),
     then, if there is several property of the same type, by the match of the field name and the mock name.
     <p><u>Note 1:</u> If you have fields with the same type (or same erasure), it's better to name all &#064;Mock
     annotated fields with the matching fields, otherwise Mockito might get confused and injection won't happen.</p>
     <p><u>Note 2:</u> If &#064;InjectMocks instance wasn't initialized before and have a no-arg constructor,
     then it will be initialized with this constructor.</p></li>
 </ol>
 </p>

 <p>
 Example:
 <pre class="code"><code class="java">
   public class ArticleManagerTest extends SampleBaseTestCase {

       &#064;Mock private ArticleCalculator calculator;
       &#064;Mock(name = "database") private ArticleDatabase dbMock; // note the mock name attribute
       &#064;Spy private UserProvider userProvider = new ConsumerUserProvider();

       &#064;InjectMocks private ArticleManager manager;

       &#064;Test public void shouldDoSomething() {
           manager.initiateArticle();
           verify(database).addListener(any(ArticleListener.class));
       }
   }

   public class SampleBaseTestCase {

       private AutoCloseable closeable;

       &#064;Before public void openMocks() {
           closeable = MockitoAnnotations.openMocks(this);
       }

       &#064;After public void releaseMocks() throws Exception {
           closeable.close();
       }
   }
 </code></pre>
 </p>

 <p>
 In the above example the field <code>ArticleManager</code> annotated with <code>&#064;InjectMocks</code> can have
 a parameterized constructor only or a no-arg constructor only, or both.
 All these constructors can be package protected, protected or private, however
 <u>Mockito cannot instantiate inner classes, local classes, abstract classes and of course interfaces.</u>
 <u>Beware of private nested static classes too.</u>

 <p>The same stands for setters or fields, they can be declared with private
 visibility, Mockito will see them through reflection.
 However fields that are static or final will be ignored.</p>

 <p>So on the field that needs injection, for example constructor injection will happen here:</p>
 <pre class="code"><code class="java">
   public class ArticleManager {
       ArticleManager(ArticleCalculator calculator, ArticleDatabase database) {
           // parameterized constructor
       }
   }
 </code></pre>

 <p>Property setter injection will happen here:</p>
 <pre class="code"><code class="java">
   public class ArticleManager {
       // no-arg constructor
       ArticleManager() {  }

       // setter
       void setDatabase(ArticleDatabase database) { }

       // setter
       void setCalculator(ArticleCalculator calculator) { }
   }
 </code></pre>

 <p>Field injection will be used here:</p>
 <pre class="code"><code class="java">
   public class ArticleManager {
       private ArticleDatabase database;
       private ArticleCalculator calculator;
   }
 </code></pre>
 </p>

 <p>And finally, no injection will happen on the type in this case:</p>
 <pre class="code"><code class="java">
   public class ArticleManager {
       private ArticleDatabase database;
       private ArticleCalculator calculator;

       ArticleManager(ArticleObserver observer, boolean flag) {
           // observer is not declared in the test above.
           // flag is not mockable anyway
       }
   }
 </code></pre>
 </p>


 <p>
 Again, note that &#064;InjectMocks will only inject mocks/spies created using the &#64;Spy or &#64;Mock annotation.
 </p>

 <p>
 <strong><code>MockitoAnnotations.openMocks(this)</code></strong> method has to be called to initialize annotated objects.
 In above example, <code>openMocks()</code> is called in &#064;Before (JUnit4) method of test's base class.
 <strong>Instead</strong> you can also put openMocks() in your JUnit runner (&#064;RunWith) or use the built-in
 <a href="junit/MockitoJUnitRunner.html" title="class in org.mockito.junit"><code>MockitoJUnitRunner</code></a>. Also, make sure to release any mocks after disposing your test class with a corresponding hook.
 </p>

 <p>
 Mockito is not an dependency injection framework, don't expect this shorthand utility to inject a complex graph of objects
 be it mocks/spies or real objects.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8.3</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Mock.html" title="annotation in org.mockito"><code>Mock</code></a>, 
<a href="Spy.html" title="annotation in org.mockito"><code>Spy</code></a>, 
<a href="MockitoAnnotations.html#openMocks(java.lang.Object)"><code>MockitoAnnotations.openMocks(Object)</code></a>, 
<a href="junit/MockitoJUnitRunner.html" title="class in org.mockito.junit"><code>MockitoJUnitRunner</code></a></dd>
</dl>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InjectMocks.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><script type="text/javascript" src="../../js/jdk6-project-version-insert.min.js"></script><script type="text/javascript" src="../../js/jquery-1.7.min.js"></script><script type="text/javascript" src="../../js/highlight-8.6-java/highlight.pack.js"></script><link rel="stylesheet" type="text/css" href="../../js/highlight-8.6-java/styles/obsidian.css"/><script type="text/javascript" src="../../js/index.js" async defer></script>    </small></p>
</footer>
</body>
</html>
